/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */

/**
 * (Node Implemenation) Ensures the provider {@link Buffer} is, indeed, a
 * {@link Buffer}. This is mostly a noop-analog for the browser implementation,
 * but does verify (rather than "ensure" as indicated by the function name) that
 * the passed buffer is a buffer. There had been an issue with {@link Buffer}s
 * where they'd be represented as byte-arrays rather than true {@link Buffer}
 * objects; thus, this function still checks that the received {@link Buffer} is
 * of the expected type.
 * @param {BufferLike} buffer
 * @private
 * @returns {Promise<Buffer>}
 */
export default function ensureBuffer(buffer) {
  /* istanbul ignore if */
  if (!Buffer.isBuffer(buffer)) {
    return Promise.reject(new Error('`buffer` must be a buffer'));
  }

  return Promise.resolve(buffer);
}
